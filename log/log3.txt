(dh_live) goldierill@Goldie:~/Code/Voice_DH_live$ python web_demo/server_realtime.py
LLMé…ç½®: æä¾›å•†=doubao, æ¨¡å‹=doubao-seed-1.6-250615
INFO:     Started server process [72124]
INFO:     Waiting for application startup.
ASRæ¨¡å‹æ­£åœ¨åˆå§‹åŒ–ï¼Œè¯·ç¨ç­‰
asr: engine loaded in 6.67s
TTSæ¨¡å‹æ­£åœ¨åˆå§‹åŒ–ï¼Œè¯·ç¨ç­‰
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8888 (Press CTRL+C to quit)
INFO:     127.0.0.1:9384 - "GET /static/MiniLive_RealTime.html HTTP/1.1" 304 Not Modified
INFO:     127.0.0.1:9384 - "GET /static/assets2/01.mp4 HTTP/1.1" 200 OK
INFO:     127.0.0.1:9384 - "GET /static/assets2/combined_data.json.gz HTTP/1.1" 200 OK
INFO:     127.0.0.1:9383 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 0
----- streaming request -----
get_audio:  ä½ å¥½ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹è±†åŒ…ï¼Œ
run_tts ä½ å¥½ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹è±†åŒ…ï¼Œ 1.0 0
get_audio:  å¾ˆé«˜å…´èƒ½ä¸ºä½ æä¾›å¸®åŠ©ã€‚
run_tts å¾ˆé«˜å…´èƒ½ä¸ºä½ æä¾›å¸®åŠ©ã€‚ 1.0 0
get_audio:  ä½ æœ‰ä»€ä¹ˆé—®é¢˜æˆ–éœ€è¦æˆ‘åšä»€ä¹ˆï¼Œ
run_tts ä½ æœ‰ä»€ä¹ˆé—®é¢˜æˆ–éœ€è¦æˆ‘åšä»€ä¹ˆï¼Œ 1.0 0
get_audio:  éƒ½å¯ä»¥å‘Šè¯‰æˆ‘å“¦~
run_tts éƒ½å¯ä»¥å‘Šè¯‰æˆ‘å“¦~ 1.0 0
INFO:     127.0.0.1:9531 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 2
----- streaming request -----
get_audio:  ä»å…´ä¹‰ä¸‡å³°æ—æœºåœºï¼ˆ
run_tts ä»å…´ä¹‰ä¸‡å³°æ—æœºåœºï¼ˆ 1.0 2
get_audio:  ACXï¼‰åˆ°åŒ—äº¬çš„èˆªç­ä¿¡æ¯ä¼šéšæ—¥æœŸã€
run_tts ACXï¼‰åˆ°åŒ—äº¬çš„èˆªç­ä¿¡æ¯ä¼šéšæ—¥æœŸã€ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ACX'
get_audio:  èˆªç©ºå…¬å¸è®¡åˆ’ç­‰å› ç´ åŠ¨æ€å˜åŒ–ï¼Œ
run_tts èˆªç©ºå…¬å¸è®¡åˆ’ç­‰å› ç´ åŠ¨æ€å˜åŒ–ï¼Œ 1.0 2
get_audio:  å»ºè®®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥è¯¢å®æ—¶èˆªç­ï¼š
run_tts å»ºè®®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥è¯¢å®æ—¶èˆªç­ï¼š 1.0 2
get_audio:

1. **èˆªç©ºå…¬å¸å®˜ç½‘**ï¼š
run_tts

1. **èˆªç©ºå…¬å¸å®˜ç½‘**ï¼š 1.0 2
get_audio:  å¦‚ä¸­å›½å›½èˆªã€ä¸œæ–¹èˆªç©ºã€
run_tts å¦‚ä¸­å›½å›½èˆªã€ä¸œæ–¹èˆªç©ºã€ 1.0 2
get_audio:  å—æ–¹èˆªç©ºç­‰å®˜ç½‘ï¼Œç›´æ¥æœç´¢â€œ
run_tts å—æ–¹èˆªç©ºç­‰å®˜ç½‘ï¼Œç›´æ¥æœç´¢â€œ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'â€œ'
get_audio:  å…´ä¹‰-åŒ—äº¬â€èˆªçº¿ã€‚
run_tts å…´ä¹‰-åŒ—äº¬â€èˆªçº¿ã€‚ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'â€'
get_audio:
2. **è´­ç¥¨å¹³å°**ï¼š
run_tts
2. **è´­ç¥¨å¹³å°**ï¼š 1.0 2
get_audio:  æºç¨‹ã€é£çŒªã€å»å“ªå„¿ç­‰å¹³å°ï¼Œ
run_tts æºç¨‹ã€é£çŒªã€å»å“ªå„¿ç­‰å¹³å°ï¼Œ 1.0 2
get_audio:  è¾“å…¥å‡ºå‘åœ°ï¼ˆå…´ä¹‰ï¼‰
run_tts è¾“å…¥å‡ºå‘åœ°ï¼ˆå…´ä¹‰ï¼‰ 1.0 2
get_audio:  ã€ç›®çš„åœ°ï¼ˆåŒ—äº¬ï¼‰åŠæ—¥æœŸï¼Œ
run_tts ã€ç›®çš„åœ°ï¼ˆåŒ—äº¬ï¼‰åŠæ—¥æœŸï¼Œ 1.0 2
get_audio:  å³å¯æŸ¥çœ‹å½“å‰å¯å”®èˆªç­ã€‚
run_tts å³å¯æŸ¥çœ‹å½“å‰å¯å”®èˆªç­ã€‚ 1.0 2
get_audio:
3. **æœºåœºå®¢æœ**ï¼š
run_tts
3. **æœºåœºå®¢æœ**ï¼š 1.0 2
get_audio:  æ‹¨æ‰“å…´ä¹‰ä¸‡å³°æ—æœºåœºå®¢æœç”µè¯ï¼ˆ
run_tts æ‹¨æ‰“å…´ä¹‰ä¸‡å³°æ—æœºåœºå®¢æœç”µè¯ï¼ˆ 1.0 2
get_audio:  å¯é€šè¿‡114æŸ¥è¯¢å½“åœ°æœºåœºè”ç³»æ–¹å¼ï¼‰
run_tts å¯é€šè¿‡114æŸ¥è¯¢å½“åœ°æœºåœºè”ç³»æ–¹å¼ï¼‰ 1.0 2
get_audio:  å’¨è¯¢ã€‚

åŒ—äº¬æœ‰é¦–éƒ½æœºåœºï¼ˆ
run_tts å’¨è¯¢ã€‚

åŒ—äº¬æœ‰é¦–éƒ½æœºåœºï¼ˆ 1.0 2
get_audio:  PEKï¼‰å’Œå¤§å…´æœºåœºï¼ˆ
run_tts PEKï¼‰å’Œå¤§å…´æœºåœºï¼ˆ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'PEK'
get_audio:  PKXï¼‰ä¸¤ä¸ªä¸»è¦æœºåœºï¼Œ
run_tts PKXï¼‰ä¸¤ä¸ªä¸»è¦æœºåœºï¼Œ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'PKX'
get_audio:  æŸ¥è¯¢æ—¶æ³¨æ„ç¡®è®¤åˆ°è¾¾æœºåœºä¿¡æ¯ã€‚
run_tts æŸ¥è¯¢æ—¶æ³¨æ„ç¡®è®¤åˆ°è¾¾æœºåœºä¿¡æ¯ã€‚ 1.0 2
get_audio:  å‡ºå‘å‰å»ºè®®å†æ¬¡æ ¸å¯¹èˆªç­åŠ¨æ€ï¼Œ
run_tts å‡ºå‘å‰å»ºè®®å†æ¬¡æ ¸å¯¹èˆªç­åŠ¨æ€ï¼Œ 1.0 2
get_audio:  é¿å…å»¶è¯¯ã€‚
run_tts é¿å…å»¶è¯¯ã€‚ 1.0 2
INFO:     127.0.0.1:9658 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 2
----- streaming request -----
get_audio:  Hello! I'
run_tts Hello! I' 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'Hello'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '''
get_audio:  m an AI assistant
run_tts m an AI assistant  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'an'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'AI'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'assistant'
get_audio:  developed
run_tts developed  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'developed'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert developed to token IDs
TTSç”Ÿæˆçš„éŸ³é¢‘ä¸ºç©º: developed
éŸ³é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ–‡æœ¬: developed
get_audio:  by ByteDance.
run_tts by ByteDance. 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'by'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ByteDance'
get_audio:   My main
run_tts  My main  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'My'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'main'
get_audio:  goal is to
run_tts goal is to  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'goal'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'is'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
get_audio:  help with
run_tts help with  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'help'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
get_audio:  a wide range
run_tts a wide range  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'wide'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'range'
get_audio:  of tasksâ€”answering
run_tts of tasksâ€”answering  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'of'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'tasksanswering'
get_audio:  questions,
run_tts questions, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'questions'
get_audio:   sharing
run_tts  sharing  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'sharing'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert sharing to token IDs
TTSç”Ÿæˆçš„éŸ³é¢‘ä¸ºç©º: sharing
éŸ³é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ–‡æœ¬:  sharing
get_audio:  information,
run_tts information, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'information'
get_audio:   assisting
run_tts  assisting  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'assisting'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert assisting to token IDs
TTSç”Ÿæˆçš„éŸ³é¢‘ä¸ºç©º: assisting
éŸ³é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ–‡æœ¬:  assisting
get_audio:  with learning,
run_tts with learning, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'learning'
get_audio:   explaining
run_tts  explaining  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'explaining'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert explaining to token IDs
TTSç”Ÿæˆçš„éŸ³é¢‘ä¸ºç©º: explaining
éŸ³é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ–‡æœ¬:  explaining
get_audio:  concepts,
run_tts concepts, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'concepts'
get_audio:   or even
run_tts  or even  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'or'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'even'
get_audio:  just having
run_tts just having  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'just'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'having'
get_audio:  a friendly
run_tts a friendly  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'friendly'
get_audio:  chat. Iâ€™m
run_tts chat. Iâ€™m  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'chat'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'â€™'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
get_audio:  designed
run_tts designed  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'designed'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert designed to token IDs
TTSç”Ÿæˆçš„éŸ³é¢‘ä¸ºç©º: designed
éŸ³é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ–‡æœ¬: designed
get_audio:  to be approachable
run_tts to be approachable  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'be'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'approachable'
get_audio:  and adaptable,
run_tts and adaptable, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'and'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'adaptable'
get_audio:   so whether
run_tts  so whether  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'so'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'whether'
get_audio:  you need
run_tts you need  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'you'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'need'
get_audio:  help with
run_tts help with  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'help'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
get_audio:  a problem,
run_tts a problem, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'problem'
get_audio:   want to
run_tts  want to  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'want'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
get_audio:  learn something
run_tts learn something  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'learn'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'something'
get_audio:  new, or have
run_tts new, or have  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'newor'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'have'
get_audio:  a casual
run_tts a casual  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'casual'
get_audio:  question,
run_tts question, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'question'
get_audio:   feel free
run_tts  feel free  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'feel'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'free'
get_audio:  to ask. Iâ€™m
run_tts to ask. Iâ€™m  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ask'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'â€™'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
get_audio:  here to make
run_tts here to make  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'here'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'make'
get_audio:  things easier
run_tts things easier  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'things'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'easier'
get_audio:  and more
run_tts and more  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'and'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'more'
get_audio:  helpful for
run_tts helpful for  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'helpful'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'for'
get_audio:  you! ğŸ˜Š
run_tts you! ğŸ˜Š 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'you'