(dh_live) goldierill@Goldie:~/Code/Voice_DH_live$ python web_demo/server_realtime.py
LLM配置: 提供商=doubao, 模型=doubao-seed-1.6-250615
INFO:     Started server process [72124]
INFO:     Waiting for application startup.
ASR模型正在初始化，请稍等
asr: engine loaded in 6.67s
TTS模型正在初始化，请稍等
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8888 (Press CTRL+C to quit)
INFO:     127.0.0.1:9384 - "GET /static/MiniLive_RealTime.html HTTP/1.1" 304 Not Modified
INFO:     127.0.0.1:9384 - "GET /static/assets2/01.mp4 HTTP/1.1" 200 OK
INFO:     127.0.0.1:9384 - "GET /static/assets2/combined_data.json.gz HTTP/1.1" 200 OK
INFO:     127.0.0.1:9383 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 0
----- streaming request -----
get_audio:  你好！我是人工智能助手豆包，
run_tts 你好！我是人工智能助手豆包， 1.0 0
get_audio:  很高兴能为你提供帮助。
run_tts 很高兴能为你提供帮助。 1.0 0
get_audio:  你有什么问题或需要我做什么，
run_tts 你有什么问题或需要我做什么， 1.0 0
get_audio:  都可以告诉我哦~
run_tts 都可以告诉我哦~ 1.0 0
INFO:     127.0.0.1:9531 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 2
----- streaming request -----
get_audio:  从兴义万峰林机场（
run_tts 从兴义万峰林机场（ 1.0 2
get_audio:  ACX）到北京的航班信息会随日期、
run_tts ACX）到北京的航班信息会随日期、 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ACX'
get_audio:  航空公司计划等因素动态变化，
run_tts 航空公司计划等因素动态变化， 1.0 2
get_audio:  建议通过以下方式查询实时航班：
run_tts 建议通过以下方式查询实时航班： 1.0 2
get_audio:

1. **航空公司官网**：
run_tts

1. **航空公司官网**： 1.0 2
get_audio:  如中国国航、东方航空、
run_tts 如中国国航、东方航空、 1.0 2
get_audio:  南方航空等官网，直接搜索“
run_tts 南方航空等官网，直接搜索“ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '“'
get_audio:  兴义-北京”航线。
run_tts 兴义-北京”航线。 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '”'
get_audio:
2. **购票平台**：
run_tts
2. **购票平台**： 1.0 2
get_audio:  携程、飞猪、去哪儿等平台，
run_tts 携程、飞猪、去哪儿等平台， 1.0 2
get_audio:  输入出发地（兴义）
run_tts 输入出发地（兴义） 1.0 2
get_audio:  、目的地（北京）及日期，
run_tts 、目的地（北京）及日期， 1.0 2
get_audio:  即可查看当前可售航班。
run_tts 即可查看当前可售航班。 1.0 2
get_audio:
3. **机场客服**：
run_tts
3. **机场客服**： 1.0 2
get_audio:  拨打兴义万峰林机场客服电话（
run_tts 拨打兴义万峰林机场客服电话（ 1.0 2
get_audio:  可通过114查询当地机场联系方式）
run_tts 可通过114查询当地机场联系方式） 1.0 2
get_audio:  咨询。

北京有首都机场（
run_tts 咨询。

北京有首都机场（ 1.0 2
get_audio:  PEK）和大兴机场（
run_tts PEK）和大兴机场（ 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'PEK'
get_audio:  PKX）两个主要机场，
run_tts PKX）两个主要机场， 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'PKX'
get_audio:  查询时注意确认到达机场信息。
run_tts 查询时注意确认到达机场信息。 1.0 2
get_audio:  出发前建议再次核对航班动态，
run_tts 出发前建议再次核对航班动态， 1.0 2
get_audio:  避免延误。
run_tts 避免延误。 1.0 2
INFO:     127.0.0.1:9658 - "POST /eb_stream HTTP/1.1" 200 OK
gen_stream 1.0 2
----- streaming request -----
get_audio:  Hello! I'
run_tts Hello! I' 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'Hello'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '''
get_audio:  m an AI assistant
run_tts m an AI assistant  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'an'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'AI'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'assistant'
get_audio:  developed
run_tts developed  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'developed'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert developed to token IDs
TTS生成的音频为空: developed
音频生成失败，跳过文本: developed
get_audio:  by ByteDance.
run_tts by ByteDance. 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'by'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ByteDance'
get_audio:   My main
run_tts  My main  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'My'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'main'
get_audio:  goal is to
run_tts goal is to  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'goal'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'is'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
get_audio:  help with
run_tts help with  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'help'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
get_audio:  a wide range
run_tts a wide range  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'wide'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'range'
get_audio:  of tasks—answering
run_tts of tasks—answering  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'of'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'tasksanswering'
get_audio:  questions,
run_tts questions, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'questions'
get_audio:   sharing
run_tts  sharing  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'sharing'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert sharing to token IDs
TTS生成的音频为空: sharing
音频生成失败，跳过文本:  sharing
get_audio:  information,
run_tts information, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'information'
get_audio:   assisting
run_tts  assisting  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'assisting'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert assisting to token IDs
TTS生成的音频为空: assisting
音频生成失败，跳过文本:  assisting
get_audio:  with learning,
run_tts with learning, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'learning'
get_audio:   explaining
run_tts  explaining  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'explaining'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert explaining to token IDs
TTS生成的音频为空: explaining
音频生成失败，跳过文本:  explaining
get_audio:  concepts,
run_tts concepts, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'concepts'
get_audio:   or even
run_tts  or even  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'or'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'even'
get_audio:  just having
run_tts just having  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'just'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'having'
get_audio:  a friendly
run_tts a friendly  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'friendly'
get_audio:  chat. I’m
run_tts chat. I’m  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'chat'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '’'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
get_audio:  designed
run_tts designed  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'designed'
/project/sherpa-onnx/csrc/offline-tts-vits-impl.h:Generate:214 Failed to convert designed to token IDs
TTS生成的音频为空: designed
音频生成失败，跳过文本: designed
get_audio:  to be approachable
run_tts to be approachable  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'be'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'approachable'
get_audio:  and adaptable,
run_tts and adaptable, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'and'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'adaptable'
get_audio:   so whether
run_tts  so whether  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'so'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'whether'
get_audio:  you need
run_tts you need  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'you'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'need'
get_audio:  help with
run_tts help with  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'help'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'with'
get_audio:  a problem,
run_tts a problem, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'problem'
get_audio:   want to
run_tts  want to  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'want'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
get_audio:  learn something
run_tts learn something  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'learn'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'something'
get_audio:  new, or have
run_tts new, or have  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'newor'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'have'
get_audio:  a casual
run_tts a casual  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'a'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'casual'
get_audio:  question,
run_tts question, 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'question'
get_audio:   feel free
run_tts  feel free  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'feel'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'free'
get_audio:  to ask. I’m
run_tts to ask. I’m  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'ask'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'I'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV '’'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'm'
get_audio:  here to make
run_tts here to make  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'here'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'to'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'make'
get_audio:  things easier
run_tts things easier  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'things'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'easier'
get_audio:  and more
run_tts and more  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'and'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'more'
get_audio:  helpful for
run_tts helpful for  1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'helpful'
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'for'
get_audio:  you! 😊
run_tts you! 😊 1.0 2
/project/sherpa-onnx/csrc/jieba-lexicon.cc:ConvertTextToTokenIds:169 Ignore OOV 'you'